:root{--bg-primary:#0d1a0d;--bg-secondary:#1a2f1a;--text-primary:#e8f5e8;--text-secondary:#a8d4a8}*{box-sizing:border-box;margin:0;padding:0}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:var(--bg-primary);color:var(--text-primary);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.mahjong-game{background:radial-gradient(#1a2f1a,#0d1a0d);min-height:100vh;position:relative;overflow:hidden}.mahjong-game:before{content:"";pointer-events:none;background-image:radial-gradient(circle at 20% 80%,#00ff0008,#0000 50%),radial-gradient(circle at 80% 20%,#00ff0008,#0000 50%);position:absolute;inset:0}.game-header{text-align:center;z-index:10;padding:1rem;position:relative}.game-header h1{color:#4ade80;text-shadow:0 0 20px #4ade8080;margin-bottom:.5rem;font-size:2rem}.message{color:#86efac;background:#0009;border:1px solid #4ade804d;border-radius:2rem;padding:.75rem 1.5rem;font-size:1.1rem;animation:.3s fadeIn;display:inline-block}@keyframes fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.loading-overlay{z-index:1000;background:#0d1a0df2;flex-direction:column;justify-content:center;align-items:center;display:flex;position:fixed;inset:0}.loading-spinner{border:4px solid #4ade8033;border-top-color:#4ade80;border-radius:50%;width:60px;height:60px;animation:1s linear infinite spin}.start-screen{flex-direction:column;justify-content:center;align-items:center;min-height:80vh;display:flex}.start-btn{color:#fff;cursor:pointer;background:linear-gradient(145deg,#22c55e,#16a34a);border:none;border-radius:2rem;padding:1.25rem 3rem;font-size:1.5rem;font-weight:700;transition:all .3s;box-shadow:0 8px 25px #22c55e66}.start-btn:hover{transform:translateY(-4px);box-shadow:0 12px 35px #22c55e80}.player-area{padding:1rem;position:absolute;bottom:0;left:0;right:0}.tile{display:inline-flex;align-items:center;justify-content:center;width:56px;height:74px;background:linear-gradient(145deg,#fefefe,#f0ebe0);border-radius:6px;box-shadow:0 3px 6px #00000059,inset 0 2px #ffffffe6,inset 0 -2px #0000000d;cursor:pointer;font-size:42px;transition:all .15s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:1px solid #d4c8b0;position:relative}.tile[data-suit="1"]{background:linear-gradient(145deg,#fff5f5,#ffe0e0);border-color:#e8b4b4}.tile[data-suit="2"]{background:linear-gradient(145deg,#f0f8ff,#d6eaff);border-color:#b4d4e8}.tile[data-suit="3"]{background:linear-gradient(145deg,#f0fff0,#d4ead4);border-color:#b4e8b4}.tile[data-suit="4"]{background:linear-gradient(145deg,#fffaf0,#ffe8c8);border-color:#e8d4b4}.tile:before{content:"";position:absolute;top:3px;left:3px;right:3px;height:12px;background:linear-gradient(180deg,rgba(255,255,255,.7) 0%,transparent 100%);border-radius:3px 3px 0 0;pointer-events:none}.tile:after{content:"";position:absolute;bottom:0;left:0;right:0;height:4px;background:linear-gradient(180deg,transparent 0%,rgba(0,0,0,.08) 100%);border-radius:0 0 6px 6px;pointer-events:none}.tile:hover{transform:translateY(-6px);box-shadow:0 10px 20px #0006,inset 0 2px #ffffffe6,inset 0 -2px #0000000d}.tile.selected{transform:translateY(-16px);background:linear-gradient(145deg,#fff8e0,#ffdd70);box-shadow:0 12px 24px #ffb40080,0 0 0 3px #ff9500,inset 0 2px #ffffffe6}.tile.selected[data-suit="1"]{box-shadow:0 12px 24px #dc354580,0 0 0 3px #dc3545}.tile.selected[data-suit="2"]{box-shadow:0 12px 24px #0d6efd80,0 0 0 3px #0d6efd}.tile.selected[data-suit="3"]{box-shadow:0 12px 24px #19875480,0 0 0 3px #198754}.tile.selected[data-suit="4"]{box-shadow:0 12px 24px #ffc10780,0 0 0 3px #ffc107}.tile.face-down{background:linear-gradient(145deg,#5a7a50,#3d5636);border:1px solid #4a6741;cursor:default}.tile.face-down:before{background:linear-gradient(180deg,rgba(255,255,255,.15) 0%,transparent 100%)}.tile.face-down:hover{transform:none;box-shadow:0 3px 6px #00000059,inset 0 2px #ffffff1a}.tile.small{width:38px;height:50px;font-size:26px;border-radius:4px}.tile.small:before{height:6px}.tile.large{width:68px;height:90px;font-size:52px;border-radius:8px}.tile.large:before{height:14px}@media(max-width:768px){.tile{width:42px;height:56px;font-size:32px}.tile.small{width:30px;height:40px;font-size:20px}.tile.large{width:52px;height:70px;font-size:40px}}@media(max-width:480px){.tile{width:36px;height:48px;font-size:26px}.tile.small{width:26px;height:35px;font-size:16px}.tile.large{width:46px;height:62px;font-size:34px}}.player-hand{display:flex;flex-direction:column;align-items:center;gap:10px}.hand-tiles{display:flex;gap:4px;flex-wrap:wrap;justify-content:center}.melds{display:flex;gap:10px;margin-bottom:6px}.meld{display:flex;gap:2px}.meld.peng{border:3px solid #e74c3c;border-radius:6px;padding:3px;background:#e74c3c26}.meld.gang{border:3px solid #f39c12;border-radius:6px;padding:3px;background:#f39c1226}.meld.chi{border:3px solid #3498db;border-radius:6px;padding:3px;background:#3498db26}@media(min-width:1200px){.hand-tiles{gap:6px}.melds{gap:14px;margin-bottom:8px}.meld{gap:3px}}@media(max-width:768px){.hand-tiles{gap:2px}.melds{gap:6px;margin-bottom:4px}.meld{gap:1px}.meld.peng,.meld.gang,.meld.chi{padding:2px;border-width:2px}}@media(max-width:480px){.player-hand{gap:6px}.hand-tiles{gap:1px}.melds{gap:4px;margin-bottom:2px}.meld.peng,.meld.gang,.meld.chi{padding:1px;border-width:1px}}.opponents-container{position:absolute;inset:0;pointer-events:none}.opponent{position:absolute;display:flex;align-items:center;gap:12px}.opponent-top{top:12px;left:50%;transform:translate(-50%);flex-direction:row}.opponent-top .opponent-hand{flex-direction:row}.opponent-left{top:50%;left:12px;transform:translateY(-50%);flex-direction:row}.opponent-right{top:50%;right:12px;transform:translateY(-50%);flex-direction:row-reverse}.opponent-info{display:flex;flex-direction:column;align-items:center;gap:4px}.opponent-name{font-size:15px;color:gold;text-shadow:1px 1px 3px #000;font-weight:700}.opponent-count{font-size:13px;color:#ccc;text-shadow:1px 1px 2px #000}.opponent-hand{display:flex;gap:3px}.opponent-tile{width:28px;height:38px;background:linear-gradient(145deg,#5a7a50,#3d5636);border-radius:4px;box-shadow:0 3px 6px #00000080,inset 0 1px #ffffff1a;display:flex;align-items:center;justify-content:center;font-size:18px;color:transparent;border:1px solid #4a6741}.opponent-tile.just-drawn{border:2px solid #ffd700;animation:drawPulse .5s ease}@keyframes drawPulse{0%{transform:scale(1)}50%{transform:scale(1.25)}to{transform:scale(1)}}@media(min-width:1200px){.opponent-tile{width:34px;height:46px;font-size:22px}.opponent-name{font-size:17px}.opponent-info{gap:6px}}@media(max-width:768px){.opponent-tile{width:22px;height:30px;font-size:14px}.opponent-name{font-size:13px}.opponent-count{font-size:11px}.opponent-info{gap:2px}}@media(max-width:480px){.opponent-tile{width:18px;height:25px;font-size:12px}.opponent-name{font-size:11px}.opponent-count{font-size:10px}.opponent{gap:6px}.opponent-top{top:8px}.opponent-left{left:8px}.opponent-right{right:8px}}.table-area{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:85%;max-width:800px;height:320px;display:flex;flex-direction:column;justify-content:center;align-items:center}.table-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:15px;opacity:.25}.mahjong-logo{font-size:100px;animation:spin 25s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.dice-area{font-size:48px}.discards{display:flex;flex-direction:column;gap:6px;width:100%}.discard-row{display:flex;flex-wrap:wrap;gap:6px;justify-content:center}.discarded-tile{width:44px;height:58px;background:linear-gradient(145deg,#fefefe,#f0ebe0);border-radius:5px;box-shadow:0 3px 6px #00000059,inset 0 2px #ffffffe6;display:flex;align-items:center;justify-content:center;font-size:30px;cursor:pointer;transition:all .15s ease;border:1px solid #d4c8b0}.discarded-tile:hover{transform:scale(1.12);box-shadow:0 6px 12px #00000073}.discarded-tile.last-discarded{background:linear-gradient(145deg,#fff8e0,#ffdd70);box-shadow:0 0 0 3px #ff9500,0 6px 12px #ff960080;animation:lastDiscard .5s ease}@keyframes lastDiscard{0%{transform:scale(1.35)}to{transform:scale(1)}}.remaining-count{position:absolute;bottom:-35px;font-size:17px;color:gold;text-shadow:1px 1px 3px #000;background:#0009;padding:6px 16px;border-radius:15px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border:1px solid rgba(212,168,83,.3)}@media(min-width:1200px){.table-area{max-width:900px;height:360px}.mahjong-logo{font-size:120px}.discarded-tile{width:52px;height:70px;font-size:36px}}@media(max-width:768px){.table-area{width:92%;height:260px}.mahjong-logo{font-size:70px}.discarded-tile{width:36px;height:48px;font-size:24px}.remaining-count{font-size:14px;bottom:-28px}}@media(max-width:480px){.table-area{height:220px}.mahjong-logo{font-size:55px}.discarded-tile{width:30px;height:40px;font-size:20px}.discards,.discard-row{gap:4px}}.action-buttons{position:absolute;bottom:140px;left:50%;transform:translate(-50%);display:flex;gap:14px;z-index:100;flex-wrap:wrap;justify-content:center;max-width:90%}.action-btn{padding:14px 28px;font-size:18px;font-weight:700;border:none;border-radius:12px;cursor:pointer;transition:all .2s ease;box-shadow:0 5px 15px #0006;text-shadow:1px 1px 2px rgba(0,0,0,.3);position:relative;overflow:hidden}.key-hint{display:inline-block;margin-left:8px;padding:2px 6px;font-size:12px;background:#0003;border-radius:4px;vertical-align:middle}.action-btn:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.2) 0%,transparent 100%);pointer-events:none}.action-btn:hover{transform:translateY(-4px);box-shadow:0 8px 20px #00000080}.action-btn:active{transform:translateY(0)}.draw-btn{background:linear-gradient(145deg,#3498db,#2471a3);color:#fff;border:2px solid #5dade2}.draw-btn:hover{background:linear-gradient(145deg,#5dade2,#3498db)}.hu-btn{background:linear-gradient(145deg,#e74c3c,#c0392b);color:#fff;font-size:20px;border:2px solid #ec7063}.hu-btn:hover{background:linear-gradient(145deg,#ec7063,#e74c3c);animation:pulse .5s ease infinite}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.08)}}.peng-btn{background:linear-gradient(145deg,#e67e22,#d35400);color:#fff;border:2px solid #f39c12}.peng-btn:hover{background:linear-gradient(145deg,#f39c12,#e67e22)}.gang-btn{background:linear-gradient(145deg,#f1c40f,#d4ac0d);color:#333;border:2px solid #f7dc6f}.gang-btn:hover{background:linear-gradient(145deg,#f7dc6f,#f1c40f)}.chi-btn{background:linear-gradient(145deg,#1abc9c,#148f77);color:#fff;border:2px solid #48c9b0}.chi-btn:hover{background:linear-gradient(145deg,#48c9b0,#1abc9c)}.pass-btn{background:linear-gradient(145deg,#95a5a6,#7f8c8d);color:#fff;border:2px solid #bdc3c7}.pass-btn:hover{background:linear-gradient(145deg,#bdc3c7,#95a5a6)}@media(min-width:1200px){.action-buttons{bottom:160px;gap:16px}.action-btn{padding:16px 32px;font-size:20px}.hu-btn{font-size:22px}}@media(max-width:768px){.action-buttons{bottom:120px;gap:10px}.action-btn{padding:10px 20px;font-size:15px;border-radius:8px}.hu-btn{font-size:17px}}@media(max-width:480px){.action-buttons{bottom:110px;gap:8px;padding:0 5px}.action-btn{padding:8px 14px;font-size:13px;border-radius:6px}.hu-btn{font-size:15px}}:root{--primary-gold: #d4a853;--primary-red: #c41e3a;--bg-dark: #1a2a1a;--bg-gradient-start: #0d1a0d;--bg-gradient-end: #1a2a1a;--tile-bg: #f5f0e6;--tile-border: #8b7355;--shadow-color: rgba(0, 0, 0, .4);--sat: env(safe-area-inset-top);--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right)}*{box-sizing:border-box}html,body{margin:0;padding:0;overflow:hidden}.mahjong-game{width:100%;height:100vh;height:100dvh;background:radial-gradient(ellipse at center,#1e3520,#0d1a0d,#050a05);position:relative;overflow:hidden;display:flex;flex-direction:column;padding-top:var(--sat, 0px);padding-bottom:var(--sab, 0px);padding-left:var(--sal, 0px);padding-right:var(--sar, 0px)}.mahjong-game:before{content:"";position:absolute;inset:0;background-image:radial-gradient(circle at 20% 80%,rgba(212,168,83,.08) 0%,transparent 40%),radial-gradient(circle at 80% 20%,rgba(196,30,58,.08) 0%,transparent 40%),radial-gradient(circle at 50% 50%,rgba(255,215,0,.03) 0%,transparent 60%);pointer-events:none}.game-header{text-align:center;padding:1rem 1rem .5rem;position:relative;z-index:10;flex-shrink:0}.game-header h1{font-size:2.2rem;font-weight:700;color:var(--primary-gold);text-shadow:0 0 15px rgba(212,168,83,.6),0 2px 4px rgba(0,0,0,.6),3px 3px 0 var(--primary-red);margin:0;letter-spacing:.2em;animation:titleGlow 3s ease-in-out infinite}@keyframes titleGlow{0%,to{text-shadow:0 0 15px rgba(212,168,83,.6),0 2px 4px rgba(0,0,0,.6),3px 3px 0 var(--primary-red)}50%{text-shadow:0 0 25px rgba(212,168,83,.9),0 2px 4px rgba(0,0,0,.6),3px 3px 0 var(--primary-red),0 0 50px rgba(212,168,83,.4)}}.message{margin-top:.6rem;padding:.6rem 1.5rem;background:linear-gradient(135deg,#d4a85333,#c41e3a33);border:2px solid var(--primary-gold);border-radius:50px;color:#fff;font-size:1rem;font-weight:500;display:inline-block;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);animation:messageSlide .3s ease-out;box-shadow:0 4px 20px #0006,inset 0 1px #ffffff26}@keyframes messageSlide{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.start-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;position:relative;z-index:10}.start-btn{font-size:1.8rem;padding:1.2rem 4rem;background:linear-gradient(135deg,var(--primary-red) 0%,#8b1428 100%);border:4px solid var(--primary-gold);border-radius:20px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 8px 30px #00000080,inset 0 2px #ffffff40;position:relative;overflow:hidden;text-transform:uppercase;letter-spacing:.1em}.start-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.25),transparent);transition:left .5s ease}.start-btn:hover{transform:translateY(-4px) scale(1.03);box-shadow:0 14px 40px #0009,inset 0 2px #ffffff40,0 0 30px #c41e3a80}.start-btn:hover:before{left:100%}.start-btn:active{transform:translateY(0) scale(.98)}.player-area{position:fixed;bottom:0;left:0;right:0;background:linear-gradient(to top,rgba(0,0,0,.75) 0%,rgba(0,0,0,.4) 40%,transparent 100%);padding:1.5rem 1rem calc(1.5rem + var(--sab, 0px));z-index:100}.loading-overlay{position:absolute;inset:0;background:#000c;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.loading-spinner{width:60px;height:60px;border:4px solid rgba(212,168,83,.3);border-top-color:var(--primary-gold);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.loading-overlay p{color:var(--primary-gold);font-size:1.2rem;margin-top:1rem}@media(min-width:1200px){.game-header h1{font-size:2.8rem}.message{font-size:1.1rem;padding:.8rem 2rem}.player-area{padding:2rem 2rem calc(2rem + var(--sab, 0px))}.start-btn{font-size:2.2rem;padding:1.5rem 5rem}}@media(max-width:768px){.game-header h1{font-size:1.6rem}.message{font-size:.85rem;padding:.5rem 1rem}.start-btn{font-size:1.3rem;padding:1rem 2.5rem}.mahjong-game{height:100vh;height:100dvh}.player-area{padding:1rem .5rem calc(1rem + var(--sab, 0px))}}@media(max-width:480px){.game-header h1{font-size:1.4rem}.message{font-size:.8rem;padding:.4rem .9rem}.start-btn{font-size:1.1rem;padding:.8rem 2rem}}@supports (padding: max(0px)){.player-area,.game-header{padding-left:max(1rem,var(--sal, 0px));padding-right:max(1rem,var(--sar, 0px))}}
